{"paragraphs":[{"text":"import com.datastax.spark.connector._\nimport org.apache.spark.sql.cassandra._","user":"anonymous","dateUpdated":"2018-02-18T16:27:20-0800","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import com.datastax.spark.connector._\nimport org.apache.spark.sql.cassandra._\n"}]},"apps":[],"jobName":"paragraph_1518996542435_-1399951373","id":"20180218-152902_2033748168","dateCreated":"2018-02-18T15:29:02-0800","dateStarted":"2018-02-18T16:23:25-0800","dateFinished":"2018-02-18T16:23:25-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:101","title":"Implicits"},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1518997299326_881700429","id":"20180218-154139_1627673289","dateCreated":"2018-02-18T15:41:39-0800","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:102","text":"spark.read.cassandraFormat(\"tab\", \"test\").load().show()","dateUpdated":"2018-02-18T16:27:33-0800","dateFinished":"2018-02-18T16:24:09-0800","dateStarted":"2018-02-18T16:24:04-0800","title":"A simple read and show","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+---+---+---+\n|  k|  c|  v|\n+---+---+---+\n|  1|  1|  1|\n+---+---+---+\n\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1518999817847_1469762025","id":"20180218-162337_1019830777","dateCreated":"2018-02-18T16:23:37-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:359","text":"spark.read.cassandraFormat(\"tab\", \"test\").load().explain()","dateUpdated":"2018-02-18T16:27:55-0800","dateFinished":"2018-02-18T16:26:57-0800","dateStarted":"2018-02-18T16:26:57-0800","title":"Explaining a query","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"== Physical Plan ==\n*Scan org.apache.spark.sql.cassandra.CassandraSourceRelation@703dfa40 [k#12,c#13,v#14] ReadSchema: struct<k:int,c:int,v:int>\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":91,"optionOpen":false}}},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1519000017282_-1998320233","id":"20180218-162657_147904444","dateCreated":"2018-02-18T16:26:57-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:470","text":"spark.read.format(\"org.apache.spark.sql.cassandra\").option(\"keyspace\", \"test\").option(\"table\", \"tab\").load().show()","dateUpdated":"2018-02-18T16:29:24-0800","dateFinished":"2018-02-18T16:28:58-0800","dateStarted":"2018-02-18T16:28:57-0800","title":"Reading without the implicit","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+---+---+---+\n|  k|  c|  v|\n+---+---+---+\n|  1|  1|  1|\n+---+---+---+\n\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1519000137967_-884656057","id":"20180218-162857_141537259","dateCreated":"2018-02-18T16:28:57-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:631","text":"val df = spark.read.cassandraFormat(\"tab\", \"test\").load()\ndf.filter(\"c > 5\").explain\ndf.filter(df(\"c\") > 5).explain\ndf.filter('c > 5).explain","dateUpdated":"2018-02-18T16:33:27-0800","dateFinished":"2018-02-18T16:31:50-0800","dateStarted":"2018-02-18T16:31:50-0800","title":"Lots of different ways to build Dataframe Predicates","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"df: org.apache.spark.sql.DataFrame = [k: int, c: int ... 1 more field]\n== Physical Plan ==\n*Filter isnotnull(c#89)\n+- *Scan org.apache.spark.sql.cassandra.CassandraSourceRelation@6fd7e80e [k#88,c#89,v#90] PushedFilters: [IsNotNull(c), *GreaterThan(c,5)], ReadSchema: struct<k:int,c:int,v:int>\n== Physical Plan ==\n*Filter isnotnull(c#89)\n+- *Scan org.apache.spark.sql.cassandra.CassandraSourceRelation@6fd7e80e [k#88,c#89,v#90] PushedFilters: [IsNotNull(c), *GreaterThan(c,5)], ReadSchema: struct<k:int,c:int,v:int>\n== Physical Plan ==\n*Filter isnotnull(c#89)\n+- *Scan org.apache.spark.sql.cassandra.CassandraSourceRelation@6fd7e80e [k#88,c#89,v#90] PushedFilters: [IsNotNull(c), *GreaterThan(c,5)], ReadSchema: struct<k:int,c:int,v:int>\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1519000249162_-1550904879","id":"20180218-163049_1848521431","dateCreated":"2018-02-18T16:30:49-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:725","text":"df.filter(\"v > 5\").explain","dateUpdated":"2018-02-18T16:34:17-0800","dateFinished":"2018-02-18T16:33:51-0800","dateStarted":"2018-02-18T16:33:51-0800","title":"Filter with no pushdown","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"== Physical Plan ==\n*Filter (isnotnull(v#90) && (v#90 > 5))\n+- *Scan org.apache.spark.sql.cassandra.CassandraSourceRelation@6fd7e80e [k#88,c#89,v#90] PushedFilters: [IsNotNull(v), GreaterThan(v,5)], ReadSchema: struct<k:int,c:int,v:int>\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1519001043128_-1596568525","id":"20180218-164403_1714786979","dateCreated":"2018-02-18T16:44:03-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1356","dateUpdated":"2018-02-18T16:47:07-0800","dateFinished":"2018-02-18T16:47:08-0800","dateStarted":"2018-02-18T16:47:07-0800","title":"Saving Data with Dataframes","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+---+---+---+\n|  k|  c|  v|\n+---+---+---+\n| 42| 42| 42|\n| 50| 50| 50|\n| 95| 95| 95|\n| 88| 88| 88|\n| 82| 82| 82|\n| 49| 49| 49|\n| 10| 10| 10|\n| 83| 83| 83|\n| 26| 26| 26|\n| 21| 21| 21|\n| 17| 17| 17|\n| 35| 35| 35|\n| 31| 31| 31|\n| 85| 85| 85|\n| 36| 36| 36|\n| 40| 40| 40|\n| 68| 68| 68|\n| 38| 38| 38|\n| 57| 57| 57|\n| 39| 39| 39|\n+---+---+---+\nonly showing top 20 rows\n\n"}]},"text":"spark\n  .range(1, 100)\n  .select('id.as(\"k\"), 'id.as(\"c\"), 'id.as(\"v\"))\n  .write\n  .cassandraFormat(\"tab\",\"test\")\n  .mode(\"append\")\n  .save()\nspark.read.cassandraFormat(\"tab\", \"test\").load().show"},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1519000431638_-682048273","id":"20180218-163351_340349891","dateCreated":"2018-02-18T16:33:51-0800","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:970","text":"sc.cassandraTable(\"test\", \"tab\").collect()\n","dateUpdated":"2018-02-18T16:47:38-0800","dateFinished":"2018-02-18T16:41:16-0800","dateStarted":"2018-02-18T16:41:15-0800","title":"Reading with RDDs","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"res18: Array[com.datastax.spark.connector.CassandraRow] = Array(CassandraRow{k: 1, c: 1, v: 1})\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1519000853560_1844565985","id":"20180218-164053_907620103","dateCreated":"2018-02-18T16:40:53-0800","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1209"}],"name":"Spark Cassandra Note","id":"2D6S48DJB","angularObjects":{"2D9MRXK9C:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}